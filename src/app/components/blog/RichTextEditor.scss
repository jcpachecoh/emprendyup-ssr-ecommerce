.rich-text-editor {
  display: flex;
  flex-direction: column;
  border: 1px solid #ccc;
  border-radius: 4px;
  overflow: hidden;
  max-height: inherit; // Inherit max-height from parent if specified
  width: 100%;
  box-sizing: border-box;

  .rich-text-toolbar {
    display: flex;
    padding: 4px;
    padding-left: var(--ks-main-side-margin);
    border-bottom: 1px solid #eee;
    background-color: #00b2ff;
    gap: 10px;
    height: 36px;
    align-items: center;

    &-group {
      display: flex;
      gap: 4px;
      align-items: center;
      padding-right: 10px;
      border-right: var(--ks-limits-border);
      height: 18px;
    }

    .toolbar-button {
      background: none;
      border: none;
      cursor: pointer;
      border-radius: 4px;
      padding: 2px;

      &:hover {
        background-color: #0091cc;

        svg {
          * {
            fill: var(--ks-dark-grey);
          }
        }
      }

      &.active {
        background-color: #5270af;

        svg {
          * {
            fill: var(--ks-black);
          }
        }
      }

      svg {
        width: 22px;
        height: 22px;

        * {
          fill: var(--ks-light-grey);
        }
      }
    }
  }

  .rich-text-content {
    min-height: 80px; // Start with a small height
    padding: 10px;
    padding-right: 60px;
    outline: none;
    overflow-y: auto; // Allow scrolling if content exceeds max-height
    resize: none; // Prevent manual resizing
    word-wrap: break-word; // Ensure text wraps
    word-break: break-word;
    overflow-wrap: break-word;
    white-space: pre-wrap;
    padding-left: calc(var(--ks-main-side-margin) + 2px);
    color: var(--ks-black);
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow-x: hidden; // Prevent horizontal scrolling
    text-align: left;

    &.show-placeholder:empty:before {
      content: attr(data-placeholder);
      color: #aaa;
      pointer-events: none;
    }

    // Mention styling
    .mention {
      font-weight: 700 !important; // Force bold with high specificity
      color: var(--ks-queue-mention) !important; // Blue color for mentions, adjust as needed
      background-color: rgba(0, 102, 204, 0.1); // Light blue background
      padding: 2px 4px;
      border-radius: 3px;
      text-decoration: none;
      display: inline;

      // Optional: Add a subtle border
      border: 1px solid rgba(0, 102, 204, 0.2);

      // Hover effect
      &:hover {
        background-color: rgba(0, 102, 204, 0.15);
        cursor: pointer;
      }

      // Also target strong tags with mention class
      strong.mention {
        font-weight: 200 !important;
        color: var(--ks-queue-mention) !important;
      }

      // Focus state for accessibility
      &:focus {
        outline: 2px solid var(--ks-queue-mention);
        outline-offset: 1px;
      }
    }

    a,
    a[href] {
      color: #0078d4 !important;
      text-decoration: underline !important;
      cursor: pointer !important;
    }

    .rte-link {
      color: #0078d4 !important;
      text-decoration: underline !important;
      cursor: pointer !important;
    }

    ul,
    ol {
      padding-left: 20px;
    }
  }
}

// Mobile responsive styles for RichTextEditor
@media (max-width: 768px) {
  .rich-text-editor {
    .rich-text-content {
      padding-right: 10px;
      font-size: 16px; // Prevent iOS zoom
    }
  }
}
